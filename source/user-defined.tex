%%
%% VERSION HISTORY
%%    22 May 2006 - John Papandriopoulos - Original version
%%    12 Jul 2007 - John Papandriopoulos - Converted into template
%%    30 Sep 2015 - Maoyuan Liu - Draft version
%%

%%
%% Custom Hyphenations
%%

\hyphenation{cross-talk}

%%
%% Sample custom-configuration
%%
%%   You are encouraged to modify the following section with any of your
%%   own custom commands, packages, etc.
%%

% for URLs
\usepackage{url}

\usepackage[numbers,sort&compress,sectionbib,square]{natbib}
\usepackage{chapterbib}
\newcommand{\mybib}[1]{
    \clearpage
    \bibliographystyle{plainnat}
    \bibliography{#1}
}

\usepackage[linktoc=all]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% AMS packages
%\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage[mathscr]{eucal}

% Allow equations to break over pages...
\interdisplaylinepenalty=2500
% Command to stop equation breaks
% Note: enclose this in braces when used...
\newcommand{\donotsplitoverpages}{\interdisplaylinepenalty=10000}

% Graphics
\usepackage{graphicx}
\usepackage{float}

% set page margins
\newcommand{\setoddmargin}[1]{\oddsidemargin \paperwidth
  \addtolength{\oddsidemargin}{-\textwidth}
  \addtolength{\oddsidemargin}{-#1}
  \addtolength{\oddsidemargin}{-1in}}
\newcommand{\setevenmargin}[1]{\evensidemargin \paperwidth
  \addtolength{\evensidemargin}{-\textwidth}
  \addtolength{\evensidemargin}{-#1}
  \addtolength{\evensidemargin}{-1in}}

% Enable IEEE macros
%\usepackage{IEEEtrantools}
%\newcommand{\PARstart}[2]{\IEEEPARstart{#1}{#2}}

%\usepackage{lettrine}
%\renewcommand{\LettrineFontHook}{\fontfamily{ppl}}
%\setcounter{DefaultLines}{3}
%\setlength{\DefaultNindent}{0em}

\usepackage{color}
\usepackage{xcolor}
%\usepackage[noadjust]{cite}
\usepackage{caption}

% For cool tables
\usepackage{array}

% For subfigures
\usepackage{subfig}
%\usepackage{subfigure}

% For algorithms
\usepackage{algorithm}
\usepackage{algorithmic}

% For cases
\usepackage{sublabel}

% For theroem numbers having the chapter included
\usepackage{style/chngcntr}

% For testing the formatting
\usepackage{lipsum}

% For cool theorem styles
%\usepackage[amsthm]{ntheorem}
%\theorembodyfont{\normalfont}

% Used in the continued list environment below
\newcounter{continuedlist}

% Continued list environment
\newenvironment{continuedlist}{%
  \begin{enumerate}%
    % Space out each item
    \setlength{\itemsep}{1.25em}%
    % Start the enumeration from the previous value
    \setcounter{enumi}{\value{continuedlist}} 
}{%
    % Save the counter to continue it later
    \setcounter{continuedlist}{\value{enumi}}%
  \end{enumerate}%
  %\vspace{1.25em}%
  \vspace{1em}%
}

% Spaced out list environment
\newenvironment{spacedoutlist}{%
  \begin{itemize}%
    % Space out each item
    \setlength{\itemsep}{1.25em}%
}{%
  \end{itemize}%
}

% Suppress "This page intentionally left blank."
\newcommand{\markblankpages}{}

% Commands for printing draft
\usepackage{background}
\usepackage[yyyymmdd,hhmmss]{datetime}
\newcommand\DraftText{Draft compiled on \today\ at \currenttime}
\newcommand{\draft}{
  \setoddmargin{3cm}
  \setevenmargin{3cm}
  \backgroundsetup{
    color=lightgray,
    position=current page.center,
    angle=90,
    vshift=0.45\paperwidth,
    opacity=1,
    scale=1,
    contents={\LARGE\ttfamily\DraftText}
  }
}
