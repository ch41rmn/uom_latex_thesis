%%
%% VERSION HISTORY
%%    22 May 2006 - John Papandriopoulos - Original version
%%    12 Jul 2007 - John Papandriopoulos - Converted into template
%%    30 Sep 2015 - Maoyuan Liu - Draft version
%%

%%
%% Custom Hyphenations
%%

\hyphenation{cross-talk}

%%
%% Sample custom-configuration
%%
%%   You are encouraged to modify the following section with any of your
%%   own custom commands, packages, etc.
%%

% for URLs
\usepackage{url}

\usepackage[numbers,sort&compress,sectionbib,square]{natbib}
\usepackage{chapterbib}
\newcommand{\mybib}[1]{
    \clearpage
    \bibliographystyle{plainnat}
    \bibliography{#1}
}

\usepackage[linktoc=all]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% AMS packages
%\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage[mathscr]{eucal}

% Allow equations to break over pages...
\interdisplaylinepenalty=2500
% Command to stop equation breaks
% Note: enclose this in braces when used...
\newcommand{\donotsplitoverpages}{\interdisplaylinepenalty=10000}

\usepackage{makeidx}
\makeindex

\usepackage[toc,nonumberlist,nopostdot]{glossaries}
\makeglossaries
\setglossarystyle{treegroup}
\newcommand*{\newdualentry}[5][]{%
  \newglossaryentry{main-#2}{name={#4},%
  text={#3\glsadd{#2}},%
  description={#5},%
  #1
  }%
  \newacronym{#2}{#3\glsadd{main-#2}}{#4}%
}

% Graphics
\usepackage{graphicx}
\usepackage{float}

% set page margins
%   these margins are set by the A4 paper ratios, 1:sqrt(2)
%   paperheight/paperwidth = paperwidth/textwidth = paperheight/textheight = sqrt(2)
%   outer/inner = bottom/top = sqrt(2)
\usepackage[outer=36.02988mm,inner=25.47697mm,top=36.0317mm,bottom=50.9565mm]{geometry}
\newcommand{\symmetricmargin}{
    \newgeometry{outer=30.7534mm,inner=30.7534mm,top=36.0317mm,bottom=50.9565mm}
}
\newcommand{\bookmargin}{
    \newgeometry{outer=36.02988mm,inner=25.47697mm,top=36.0317mm,bottom=50.9565mm}
}

% we've already gone this far, why not go the whole mile
\setstretch{1.414}

% packages to show page margins
%\usepackage{showframe}
%\usepackage{layouts}
\newcommand{\printlayouts}{
  % printing numeric page margins
  \printinunitsof{mm}{\pagevalues}
  \verb|\marginparwidth|: \printinunitsof{mm}\prntlen{\marginparwidth}
  \clearpage
}

% For testing the formatting
\usepackage{lipsum}


% Drop caps

% using IEEEtrantools
%\usepackage{IEEEtrantools}
%\newcommand{\PARstart}[2]{\IEEEPARstart{#1}{#2}}

% using lettrine (more customizable)
%\usepackage{lettrine}
%\renewcommand{\LettrineFontHook}{\fontfamily{ppl}}
%\setcounter{DefaultLines}{3}
%\setlength{\DefaultNindent}{0em}

\usepackage{color}
\usepackage{xcolor}
\usepackage{caption}

% For cool tables
\usepackage{array}

% For subfigures
%\usepackage{subfig}
%\usepackage{subfigure}

% For algorithms
%\usepackage{algorithm}
%\usepackage{algorithmic}

% For cases
%\usepackage{sublabel}

% For theroem numbers having the chapter included
%\usepackage{style/chngcntr}

% For cool theorem styles
%\usepackage[amsthm]{ntheorem}
%\theorembodyfont{\normalfont}

% Used in the continued list environment below
\newcounter{continuedlist}

% Continued list environment
\newenvironment{continuedlist}{%
  \begin{enumerate}%
    % Space out each item
    \setlength{\itemsep}{1.25em}%
    % Start the enumeration from the previous value
    \setcounter{enumi}{\value{continuedlist}} 
}{%
    % Save the counter to continue it later
    \setcounter{continuedlist}{\value{enumi}}%
  \end{enumerate}%
  %\vspace{1.25em}%
  \vspace{1em}%
}

% Spaced out list environment
\newenvironment{spacedoutlist}{%
  \begin{itemize}%
    % Space out each item
    \setlength{\itemsep}{1.25em}%
}{%
  \end{itemize}%
}

% Suppress "This page intentionally left blank."
\newcommand{\markblankpages}{}

% Commands for printing draft
\usepackage[contents={}]{background}
\usepackage[yyyymmdd,hhmmss]{datetime}
\newcommand\DraftText{Draft compiled on \today\ at \currenttime}
\newcommand{\draft}{
  \newcommand{\archivalpapernote}{}
  \backgroundsetup{
    color=lightgray,
    position=current page.center,
    angle=90,
    vshift=0.45\paperwidth,
    opacity=1,
    scale=1,
    contents={\LARGE\ttfamily\DraftText}
  }
}
